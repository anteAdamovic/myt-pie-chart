<html>

<head>

  <script src="d3.js"></script>
  <script src="myt-pie-chart.js"></script>
</head>
<body>
  <div id="demo" style="background-color: lightgray"></div>
  <script>
  var pie = mytPieChart.newChart();

  var data_1 = [{
      name: 'Facebook',
      value: 300,
      bgColor: '#3b5998',
      color: 'white'
    },{
      name: 'Twitter',
      value: 200,
      bgColor: '#ff9933',
      color: '#3b5998'
    },{
      name: 'Google+',
      value: 150,
      bgColor: '#d73d32',
      color: 'white'
    }];
  var data_2 = [{
      name: 'Facebook',
      value: 300,
      bgColor: '#3b5998',
      color: 'white'
    },{
      name: 'Stack',
      value: 200,
      bgColor: 'gray',
      color: 'black'
    },{
      name: 'Twitter',
      value: 200,
      bgColor: '#ff9933',
      color: '#3b5998'
    },{
      name: 'Github',
      value: 200,
      bgColor: '#78ce5a',
      color: 'white'
    },{
      name: 'Google+',
      value: 150,
      bgColor: '#d73d32',
      color: 'white'
    }];
  var data_3 = [{
    name: 'Users',
    value: 80,
    bgColor: '#3b5998'
  },{
    name: '',
    value: 20,
    bgColor: 'white'
  }]

  pie.setData(data_1)
    .setWidth(900)
    .setHeight(400)
    .setContainer('demo')
    .setId('demo');

  pie.chart.font.setSize(18);

  // pie.chart.font.setSize(25);
  // pie.chart.font.setSizeType("px");
  // pie.chart.font.setStyle('oblique');
  // pie.chart.font.setWeight('normal');
  // pie.chart.font.setVariant('small-caps');
  //
  // pie.tooltip.font.setStyle('italic');
  // pie.tooltip.font.setVariant('small-caps');
  //
  // pie.tooltip.font.setSize(20);
  // pie.tooltip.position.setNameY(20);
  // pie.tooltip.position.setValueY(40);
  // pie.tooltip.dimension.setHeight(45);
  // pie.tooltip.dimension.setWidth(200);

  // pie.chart.events
  //   .setOnClick(function(d){})
  //   .setOnMouseEnter(function(d){})
  //   .setOnMouseover(function(d){})
  //   .setOnMouseLeave(function(d){});

  pie.display();

  // setTimeout(function(){
  //   pie.chart.label.position.dx = "-1em";
  //   pie.chart.label.position.dy = "-0.1em";
  //   pie.setData(data_2);
  //   var total = 0;
  //   for(var x = 0; x < pie.getData().length; x++){
  //     total += pie.getData()[x].value;
  //   }
  //   pie.chart.label.setTextFunc(function(d){
  //     return Math.round((d.data.value / total) * 100) + '%';
  //     // return d.data.name + '(' + Math.round((d.data.value / total) * 100) + '%)';
  //   });
  //   pie.display();
  // }, 5000);

  // setTimeout(function(){
  //   pie.setData(data_3);
  //   pie.chart.label.setActive(false);
  //   pie.display();
  // }, 1000);

  // setTimeout(function(){
  //   pie.chart.label.setActive(false);
  //   pie.update();
  // }, 2000);


  </script>
  <input type="button" value="Change datasets" onclick="javascript: (pie.getData() == data_1) ? pie.setData(data_2) : pie.setData(data_1); pie.display();"/>
</body>

</html>
