<html>

<head>

  <!-- Load c3.css -->
  <link href="c3.css" rel="stylesheet" type="text/css">

  <script src="d3.js"></script>
  <!-- Load d3.js and c3.js -->
  <script src="c3.min.js"></script>

  <script src="myt-pie-chart.js"></script>

</head>
<body>
  <div id="demo"></div>
  <script>
    var pie = mytPieChart.newChart().setId("demo").setContainer("demo").setData([{name: 'One', value: 1, color: 'red'},{name: 'Two', value: 2},{name: 'Three', value: 3}]);

    pie.chart.label.setOpacity(1);

    pie.title.setActive(true);
    pie.title.setTextFunc("Test Pie");
    pie.title.font.setSize(30);
    pie.tooltip.font.setSize(30);

    pie.tooltip.setActive(true);

    pie.tooltip.setOpacity(0);


    pie.chart.events.setOnMouseOver(function(d){
      d3.select(pie.tooltip.getHashId()).style("opacity", 1);
      d3.select(pie.tooltip.getHashId()).select("rect").style("fill", d.data.bgColor ? d.data.bgColor : pie.color(d.data.name));
      d3.select(pie.tooltip.getHashId()).selectAll("text").style("fill", d.data.color ? d.data.color : 'black');
      d3.select(pie.tooltip.getHashId() + '_name').text(d.data.name);
      d3.select(pie.tooltip.getHashId() + '_value').text(d.data.value);
    });

    pie.chart.events.setOnMouseLeave(function(d){
      d3.select(pie.tooltip.getHashId()).style("opacity", 0);
    });



    pie.display();

    pie.setData([{name: 'One', value: 5, bgColor: 'blue', color: 'red'},{name: '1', value: 5, bgColor: 'red', color: 'blue'},{name: 'Two', value: 1},{name: 'Three', value: 3}]).display();
  </script>
</body>

</html>
